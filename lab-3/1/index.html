<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Keyboard Drum Kit</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
</head>
<body>

  <!-- [C]
    Every key on the keyboard has a numeric code associated with it. These
    are captured in the `data-key` attribute on each 'key'-class element.
  -->
  <div class="keys">
    <div data-key="65" class="key">
      <kbd>A</kbd>
      <span class="sound">clap</span>
    </div>
    <div data-key="83" class="key">
      <kbd>S</kbd>
      <span class="sound">hihat</span>
    </div>
    <div data-key="68" class="key">
      <kbd>D</kbd>
      <span class="sound">kick</span>
    </div>
    <div data-key="70" class="key">
      <kbd>F</kbd>
      <span class="sound">openhat</span>
    </div>
    <div data-key="71" class="key">
      <kbd>G</kbd>
      <span class="sound">boom</span>
    </div>
    <div data-key="72" class="key">
      <kbd>H</kbd>
      <span class="sound">ride</span>
    </div>
    <div data-key="74" class="key">
      <kbd>J</kbd>
      <span class="sound">snare</span>
    </div>
    <div data-key="75" class="key">
      <kbd>K</kbd>
      <span class="sound">tom</span>
    </div>
    <div data-key="76" class="key">
      <kbd>L</kbd>
      <span class="sound">tink</span>
    </div>
  </div>

  <audio data-key="65" src="sounds/clap.wav"></audio>
  <audio data-key="83" src="sounds/hihat.wav"></audio>
  <audio data-key="68" src="sounds/kick.wav"></audio>
  <audio data-key="70" src="sounds/openhat.wav"></audio>
  <audio data-key="71" src="sounds/boom.wav"></audio>
  <audio data-key="72" src="sounds/ride.wav"></audio>
  <audio data-key="74" src="sounds/snare.wav"></audio>
  <audio data-key="75" src="sounds/tom.wav"></audio>
  <audio data-key="76" src="sounds/tink.wav"></audio>

<script type="text/javascript">
  /** [D]
   *
   * Visit https://developers.google.com/web/tools/chrome-devtools/javascript/
   * and complete the tutorial on debugging JavaScript using Chrome DevTools.
   * 
   * What is an advantage of setting breakpoints over printing variables when
   * debugging?
   * 
   * <your-answer-here>
   *
   */

  /** [E]
   * 
   * Write the JavaScript code underlying a keyboard drum kit. 
   * 
   * Demo:
   * https://csc59940.github.io/demo/2/1/index.html
   *
   * Requirements:
   * - Upon pressing the key corresponding to a DOM element with class 'key',
   *   the DOM element acquires the class 'playing' and the audio element
   *   with the corresponding `data-key` attribute plays its sound. To play
   *   the audio, pass a jQuery object wrapping the audio DOM element to
   *   the `play` function I've provided below.
   * - Upon completing a CSS transition, the 'key'-class DOM element should
   *   remove the 'playing' class from its class list.
   * - Pressing a key should not result in any error message printed to the
   *   Chrome DevTools console.
   *
   * Resources:
   * - https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors
   * - https://developer.mozilla.org/en-US/docs/Web/Events/keypress
   * - https://api.jquery.com/event.which/
   *
   */
  $(document).ready(function() {
      document.addEventListener('keypress', (event) =>{
        const keyCode = event.keyCode;
          
       const audioElement = $('audio[data-key=' + keyCode + ']');
                                 play (audioElement);
          
          const playingElement = $('.key[data-key=' + keyCode + ']');
            playingElement.addClass('playing');
      });
      
      document.addEventListener('transitioned', (event) => {
          $('.key').removeClass('playing');
        
    });
    
});

  function play($audio) {
    var audioDomElement = $audio.get(0); // get first DOM element wrapped by jQuery object $audio
    audioDomElement.currentTime = 0;
    audioDomElement.play();
  }
</script>

</body>
</html>
